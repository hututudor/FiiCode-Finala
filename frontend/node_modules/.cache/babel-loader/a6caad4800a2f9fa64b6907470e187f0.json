{"ast":null,"code":"import _defineProperty from \"/home/tudor/projects/FiiCode-Finala/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/tudor/projects/FiiCode-Finala/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/tudor/projects/FiiCode-Finala/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/tudor/projects/FiiCode-Finala/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/tudor/projects/FiiCode-Finala/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/tudor/projects/FiiCode-Finala/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/tudor/projects/FiiCode-Finala/frontend/src/components/Modals/Edit/EditForm/index.jsx\";\nimport React from 'react';\nimport FormClass from '../../../hoc/FormClass';\nimport { Modal, Form, Icon, Message, Button } from 'semantic-ui-react';\nimport _ from 'lodash';\nimport Joi from 'joi-browser';\nimport { connect } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport * as nephew from '../../../../services/nephewsService';\n\nvar EditAlbumModalForm =\n/*#__PURE__*/\nfunction (_FormClass) {\n  _inherits(EditAlbumModalForm, _FormClass);\n\n  function EditAlbumModalForm() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, EditAlbumModalForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(EditAlbumModalForm)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      data: {\n        name: '',\n        color: '',\n        public: false,\n        controls: false,\n        autoplay: false\n      },\n      errors: {}\n    };\n    _this.schema = {\n      name: Joi.string().required().label('Name'),\n      color: Joi.string().required().label('Color'),\n      public: Joi.boolean().required().label('Public'),\n      controls: Joi.boolean().required().label('Controls'),\n      autoplay: Joi.boolean().required().label('Autoplay')\n    };\n\n    _this.closeModal = function () {\n      _this.props.closeModal();\n    };\n\n    _this.doSubmit = function () {\n      nephew.edit({\n        name: _this.state.data.name,\n        color: _this.state.data.color,\n        public: _this.state.data.public ? 1 : 0,\n        controls: _this.state.data.controls ? 1 : 0,\n        autoplay: _this.state.data.autoplay ? 1 : 0,\n        uuid: _this.props.options.uuid\n      }).then(function (res) {\n        _this.props.editAlbum(_this.props.options.uuid, res.data.album);\n\n        toast.success('Saved!');\n\n        _this.closeModal();\n      }).catch(function (err) {\n        console.log('fdf', err);\n        toast.error('Error saving!');\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(EditAlbumModalForm, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        data: {\n          name: this.props.options.name,\n          color: this.props.options.color,\n          public: this.props.options.public === 1 ? true : false,\n          controls: this.props.options.controls === 1 ? true : false,\n          autoplay: this.props.options.autoplay === 1 ? true : false\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _React$createElement,\n          _this2 = this;\n\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(Modal.Content, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Modal.Description, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: this.handleSubmit,\n        size: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(Form.Input, {\n        fluid: true,\n        name: \"name\",\n        placeholder: lang.get('dashboard.albums.modals.all.name'),\n        label: lang.get('dashboard.albums.modals.all.name'),\n        onChange: this.handleChange,\n        value: this.state.data.name,\n        className: this.getClass('name'),\n        type: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }), React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(Lang, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"dashboard.albums.modals.all.color\")), React.createElement(\"select\", (_React$createElement = {\n        className: \"ui fluid dropdown\",\n        name: \"color\",\n        onChange: this.handleChange,\n        value: this.state.data.color\n      }, _defineProperty(_React$createElement, \"className\", this.getClass('color')), _defineProperty(_React$createElement, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      }), _defineProperty(_React$createElement, \"__self\", this), _React$createElement), color.colors.map(function (color, index) {\n        return React.createElement(\"option\", {\n          key: index,\n          value: color,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, lang.get('colors.' + color));\n      }))), React.createElement(\"div\", {\n        className: \"ui toggle checkbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        name: \"public\",\n        onChange: this.handleChange,\n        checked: this.state.data.public,\n        className: this.getClass('public'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(Lang, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"dashboard.albums.modals.all.public\"))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(Lang, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"dashboard.albums.modals.all.settings\")), React.createElement(\"div\", {\n        className: \"ui toggle checkbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        name: \"controls\",\n        onChange: this.handleChange,\n        checked: this.state.data.controls,\n        className: this.getClass('controls'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(Lang, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"dashboard.albums.modals.all.controls\"))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"ui toggle checkbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        name: \"autoplay\",\n        onChange: this.handleChange,\n        checked: this.state.data.autoplay,\n        className: this.getClass('autoplay'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(Lang, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"dashboard.albums.modals.all.autoplay\")))), _.isEmpty(this.state.errors) ? '' : React.createElement(Message, {\n        error: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(Lang, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, \"auth.errors\")), this.displayErrors()))), React.createElement(Modal.Actions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(Button, {\n        labelPosition: \"left\",\n        icon: true,\n        negative: true,\n        onClick: function onClick() {\n          return _this2.closeModal();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"remove\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }), \"Cancel\"), React.createElement(Button, {\n        labelPosition: \"right\",\n        icon: true,\n        positive: true,\n        onClick: function onClick(event) {\n          return _this2.handleSubmit(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"save\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }), \"Save\")));\n    }\n  }]);\n\n  return EditAlbumModalForm;\n}(FormClass);\n\nexport default connect(EditAlbumModalForm);","map":{"version":3,"sources":["/home/tudor/projects/FiiCode-Finala/frontend/src/components/Modals/Edit/EditForm/index.jsx"],"names":["React","FormClass","Modal","Form","Icon","Message","Button","_","Joi","connect","toast","nephew","EditAlbumModalForm","state","data","name","color","public","controls","autoplay","errors","schema","string","required","label","boolean","closeModal","props","doSubmit","edit","uuid","options","then","res","editAlbum","album","success","catch","err","console","log","error","setState","handleSubmit","lang","get","handleChange","getClass","colors","map","index","isEmpty","displayErrors","event"],"mappings":"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","sourcesContent":["import React from 'react';\nimport FormClass from '../../../hoc/FormClass';\nimport { Modal, Form, Icon, Message, Button } from 'semantic-ui-react';\nimport _ from 'lodash';\nimport Joi from 'joi-browser';\nimport { connect } from 'react-redux';\nimport {toast} from 'react-toastify';\nimport * as nephew from '../../../../services/nephewsService';\n\nclass EditAlbumModalForm extends FormClass {\n  state = {\n    data: {\n      name: '',\n      color: '',\n      public: false,\n      controls: false,\n      autoplay: false\n    },\n    errors: {}\n  };\n\n  schema = {\n    name: Joi.string()\n      .required()\n      .label('Name'),\n    color: Joi.string()\n      .required()\n      .label('Color'),\n    public: Joi.boolean()\n      .required()\n      .label('Public'),\n    controls: Joi.boolean()\n      .required()\n      .label('Controls'),\n    autoplay: Joi.boolean()\n      .required()\n      .label('Autoplay')\n  };\n\n  componentDidMount() {\n    this.setState({\n      data: {\n        name: this.props.options.name,\n        color: this.props.options.color,\n        public: this.props.options.public === 1 ? true : false,\n        controls: this.props.options.controls === 1 ? true : false,\n        autoplay: this.props.options.autoplay === 1 ? true : false\n      }\n    });\n  }\n\n  closeModal = () => {\n    this.props.closeModal();\n  };\n\n  doSubmit = () => {\n    nephew\n      .edit({\n        name: this.state.data.name,\n        color: this.state.data.color,\n        public: this.state.data.public ? 1 : 0,\n        controls: this.state.data.controls ? 1 : 0,\n        autoplay: this.state.data.autoplay ? 1 : 0,\n        uuid: this.props.options.uuid\n      })\n      .then(res => {\n        this.props.editAlbum(this.props.options.uuid, res.data.album);\n        toast.success('Saved!');\n        this.closeModal();\n      })\n      .catch(err => {\n        console.log('fdf', err);\n        toast.error('Error saving!');\n      });\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <Modal.Content>\n          <Modal.Description>\n            <Form onSubmit={this.handleSubmit} size=\"large\">\n              <Form.Input\n                fluid\n                name=\"name\"\n                placeholder={lang.get('dashboard.albums.modals.all.name')}\n                label={lang.get('dashboard.albums.modals.all.name')}\n                onChange={this.handleChange}\n                value={this.state.data.name}\n                className={this.getClass('name')}\n                type=\"text\"\n              />\n\n              <Form.Field>\n                <Form.Field>\n                  <Lang>dashboard.albums.modals.all.color</Lang>\n                </Form.Field>\n                <select\n                  className=\"ui fluid dropdown\"\n                  name=\"color\"\n                  onChange={this.handleChange}\n                  value={this.state.data.color}\n                  className={this.getClass('color')}\n                >\n                  {color.colors.map((color, index) => (\n                    <option key={index} value={color}>\n                      {lang.get('colors.' + color)}\n                    </option>\n                  ))}\n                </select>\n              </Form.Field>\n\n              <div className=\"ui toggle checkbox\">\n                <input\n                  type=\"checkbox\"\n                  name=\"public\"\n                  onChange={this.handleChange}\n                  checked={this.state.data.public}\n                  className={this.getClass('public')}\n                />\n                <label>\n                  <Lang>dashboard.albums.modals.all.public</Lang>\n                </label>\n              </div>\n\n              <br />\n\n              <h3>\n                <Lang>dashboard.albums.modals.all.settings</Lang>\n              </h3>\n\n              <div className=\"ui toggle checkbox\">\n                <input\n                  type=\"checkbox\"\n                  name=\"controls\"\n                  onChange={this.handleChange}\n                  checked={this.state.data.controls}\n                  className={this.getClass('controls')}\n                />\n                <label>\n                  <Lang>dashboard.albums.modals.all.controls</Lang>\n                </label>\n              </div>\n\n              <br />\n              <br />\n\n              <div className=\"ui toggle checkbox\">\n                <input\n                  type=\"checkbox\"\n                  name=\"autoplay\"\n                  onChange={this.handleChange}\n                  checked={this.state.data.autoplay}\n                  className={this.getClass('autoplay')}\n                />\n                <label>\n                  <Lang>dashboard.albums.modals.all.autoplay</Lang>\n                </label>\n              </div>\n            </Form>\n            {_.isEmpty(this.state.errors) ? (\n              ''\n            ) : (\n              <Message error>\n                <h3>\n                  <Lang>auth.errors</Lang>\n                </h3>\n                {this.displayErrors()}\n              </Message>\n            )}\n          </Modal.Description>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button\n            labelPosition=\"left\"\n            icon\n            negative\n            onClick={() => this.closeModal()}\n          >\n            <Icon name=\"remove\" />\n            Cancel\n          </Button>\n          <Button\n            labelPosition=\"right\"\n            icon\n            positive\n            onClick={event => this.handleSubmit(event)}\n          >\n            <Icon name=\"save\" />\n            Save\n          </Button>\n        </Modal.Actions>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default connect(EditAlbumModalForm);\n"]},"metadata":{},"sourceType":"module"}