{"ast":null,"code":"import _objectSpread from \"/home/tudor/projects/FiiCode-Finala/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"/home/tudor/projects/FiiCode-Finala/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/home/tudor/projects/FiiCode-Finala/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/tudor/projects/FiiCode-Finala/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/tudor/projects/FiiCode-Finala/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/tudor/projects/FiiCode-Finala/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/tudor/projects/FiiCode-Finala/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/tudor/projects/FiiCode-Finala/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/tudor/projects/FiiCode-Finala/frontend/src/components/Dashboard/index.jsx\";\nimport React, { Component } from 'react';\nimport { Grid, Menu, Button, Label, List, Segment, Header } from 'semantic-ui-react';\nimport './style.scss';\nimport * as nephews from '../../services/nephewsService';\nimport EditModal from '../Modals/Edit';\nimport AddModal from '../Modals/Add';\nimport DeleteModal from '../Modals/Delete';\nimport { withRouter } from 'react-router-dom';\n\nvar Dashboard =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Dashboard, _Component);\n\n  function Dashboard() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Dashboard);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Dashboard)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      nephews: [],\n      active: -1,\n      addModal: false,\n      editModal: false,\n      removeModal: false\n    };\n\n    _this.componentDidMount = function () {\n      nephews.getAll().then(function (res) {\n        if (res.data.nephews[0]) _this.setState({\n          nephews: res.data.nephews,\n          active: 0\n        });\n      });\n    };\n\n    _this.logout = function () {\n      _this.props.history.push('/logout');\n    };\n\n    _this.refresh = function () {\n      nephews.getAll().then(function (res) {\n        if (res.data.nephews[0]) _this.setState({\n          nephews: res.data.nephews,\n          active: 0\n        });\n      });\n    };\n\n    _this.handleItemClick = function (e, name) {\n      return _this.setState({\n        active: name\n      });\n    };\n\n    _this.toggleModal = function (m) {\n      return _this.setState(_defineProperty({}, m, !_this.state[m]));\n    };\n\n    _this.addNephew = function (data) {\n      _this.setState({\n        nephews: [_objectSpread({}, data, {\n          points: 0\n        })].concat(_toConsumableArray(_this.state.nephews))\n      });\n    };\n\n    _this.editNephew = function (id, data) {\n      var nephews = _objectSpread({}, _this.state.nephews);\n\n      nephews = _this.state.nephews.map(function (nephew, index) {\n        if (nephew.id !== id) {\n          return nephew;\n        } else {\n          return data;\n        }\n      });\n      console.log(nephews);\n\n      _this.setState({\n        nephews: nephews\n      });\n    };\n\n    _this.deleteNephew = function (id) {\n      var nephews = [];\n\n      _this.state.nephews.map(function (nephew, index) {\n        if (nephew.id !== id) {\n          nephews.push(nephew);\n        }\n      });\n\n      console.log(nephews);\n\n      _this.setState({\n        nephews: nephews,\n        active: -1\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Dashboard, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, this.state.active != -1 && React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(EditModal, {\n        show: this.state.editModal,\n        user: this.state.nephews[this.state.active],\n        closeModal: function closeModal() {\n          return _this2.toggleModal('editModal');\n        },\n        editNephew: this.editNephew,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }), React.createElement(DeleteModal, {\n        show: this.state.removeModal,\n        user: this.state.nephews[this.state.active],\n        closeModal: function closeModal() {\n          return _this2.toggleModal('removeModal');\n        },\n        deleteNephew: this.deleteNephew,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      })), React.createElement(AddModal, {\n        show: this.state.addModal,\n        addNephew: this.addNephew,\n        closeModal: function closeModal() {\n          return _this2.toggleModal('addModal');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        style: {\n          minHeight: '100vh',\n          margin: '10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(Grid.Column, {\n        width: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(Segment, {\n        textAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Nephews\")), React.createElement(Menu, {\n        vertical: true,\n        style: {\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, this.state.nephews.map(function (neph, index) {\n        return React.createElement(Menu.Item, {\n          active: _this2.state.active == index,\n          onClick: function onClick(e) {\n            return _this2.handleItemClick(e, index);\n          },\n          key: neph.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, React.createElement(Label, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }, neph.points), neph.name);\n      }), React.createElement(Menu.Item, {\n        name: \"updates\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"green\",\n        onClick: function onClick() {\n          return _this2.toggleModal('addModal');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Add new\")))), React.createElement(Grid.Column, {\n        width: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, this.state.active !== -1 ? React.createElement(List, {\n        divided: true,\n        relaxed: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, this.state.nephews[this.state.active].actions.map(function (action, index) {\n        return React.createElement(List.Item, {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, React.createElement(List.Icon, {\n          name: \"github\",\n          size: \"large\",\n          verticalAlign: \"middle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }), React.createElement(List.Content, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, React.createElement(List.Header, {\n          as: \"a\",\n          href: \"http://github.com/\".concat(_this2.state.nephews[_this2.state.active].github, \"/\").concat(action.value),\n          target: \"_blank\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        }, action.value)));\n      })) : null), React.createElement(Grid.Column, {\n        width: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, this.state.active !== -1 ? React.createElement(Segment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(Header, {\n        as: \"h3\",\n        style: {\n          marginBottom: '3px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, \"Name\"), this.state.nephews[this.state.active].name, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }), React.createElement(Header, {\n        as: \"h3\",\n        style: {\n          marginBottom: '3px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, \"Github\"), this.state.nephews[this.state.active].github, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }), React.createElement(Header, {\n        as: \"h3\",\n        style: {\n          marginBottom: '3px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \"Points\"), this.state.nephews[this.state.active].points, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }), React.createElement(Button, {\n        color: \"yellow\",\n        onClick: function onClick() {\n          return _this2.toggleModal('editModal');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, \"Edit\"), React.createElement(Button, {\n        color: \"red\",\n        onClick: function onClick() {\n          return _this2.toggleModal('removeModal');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, \"Delete\"), React.createElement(Button, {\n        color: \"blue\",\n        onClick: function onClick() {\n          return _this2.refresh();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, \"Refresh\"), React.createElement(Button, {\n        color: \"purple\",\n        onClick: function onClick() {\n          return _this2.logout();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, \"Logout\")) : null)));\n    }\n  }]);\n\n  return Dashboard;\n}(Component);\n\nexport default withRouter(Dashboard);","map":{"version":3,"sources":["/home/tudor/projects/FiiCode-Finala/frontend/src/components/Dashboard/index.jsx"],"names":["React","Component","Grid","Menu","Button","Label","List","Segment","Header","nephews","EditModal","AddModal","DeleteModal","withRouter","Dashboard","state","active","addModal","editModal","removeModal","componentDidMount","getAll","then","res","data","setState","logout","props","history","push","refresh","handleItemClick","e","name","toggleModal","m","addNephew","points","editNephew","id","map","nephew","index","console","log","deleteNephew","minHeight","margin","width","neph","actions","action","github","value","marginBottom"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Grid,\n  Menu,\n  Button,\n  Label,\n  List,\n  Segment,\n  Header\n} from 'semantic-ui-react';\nimport './style.scss';\nimport * as nephews from '../../services/nephewsService';\nimport EditModal from '../Modals/Edit';\nimport AddModal from '../Modals/Add';\nimport DeleteModal from '../Modals/Delete';\nimport { withRouter } from 'react-router-dom';\n\nclass Dashboard extends Component {\n  state = {\n    nephews: [],\n    active: -1,\n    addModal: false,\n    editModal: false,\n    removeModal: false\n  };\n\n  componentDidMount = () => {\n    nephews.getAll().then(res => {\n      if (res.data.nephews[0])\n        this.setState({ nephews: res.data.nephews, active: 0 });\n    });\n  };\n\n  logout = () => {\n    this.props.history.push('/logout');\n  };\n\n  refresh = () => {\n    nephews.getAll().then(res => {\n      if (res.data.nephews[0])\n        this.setState({ nephews: res.data.nephews, active: 0 });\n    });\n  };\n\n  handleItemClick = (e, name) => this.setState({ active: name });\n\n  toggleModal = m => this.setState({ [m]: !this.state[m] });\n\n  addNephew = data => {\n    this.setState({\n      nephews: [{ ...data, points: 0 }, ...this.state.nephews]\n    });\n  };\n\n  editNephew = (id, data) => {\n    let nephews = { ...this.state.nephews };\n\n    nephews = this.state.nephews.map((nephew, index) => {\n      if (nephew.id !== id) {\n        return nephew;\n      } else {\n        return data;\n      }\n    });\n\n    console.log(nephews);\n\n    this.setState({\n      nephews\n    });\n  };\n\n  deleteNephew = id => {\n    let nephews = [];\n\n    this.state.nephews.map((nephew, index) => {\n      if (nephew.id !== id) {\n        nephews.push(nephew);\n      }\n    });\n\n    console.log(nephews);\n\n    this.setState({\n      nephews,\n      active: -1\n    });\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.state.active != -1 && (\n          <React.Fragment>\n            <EditModal\n              show={this.state.editModal}\n              user={this.state.nephews[this.state.active]}\n              closeModal={() => this.toggleModal('editModal')}\n              editNephew={this.editNephew}\n            />\n            <DeleteModal\n              show={this.state.removeModal}\n              user={this.state.nephews[this.state.active]}\n              closeModal={() => this.toggleModal('removeModal')}\n              deleteNephew={this.deleteNephew}\n            />\n          </React.Fragment>\n        )}\n        <AddModal\n          show={this.state.addModal}\n          addNephew={this.addNephew}\n          closeModal={() => this.toggleModal('addModal')}\n        />\n        <Grid style={{ minHeight: '100vh', margin: '10px' }}>\n          <Grid.Column width={4}>\n            <Segment textAlign=\"center\"><h1>Nephews</h1></Segment>\n            <Menu vertical style={{ width: '100%' }}>\n              {this.state.nephews.map((neph, index) => (\n                <Menu.Item\n                  active={this.state.active == index}\n                  onClick={e => this.handleItemClick(e, index)}\n                  key={neph.id}\n                >\n                  <Label>{neph.points}</Label>\n                  {neph.name}\n                </Menu.Item>\n              ))}\n\n              <Menu.Item name=\"updates\">\n                <Button\n                  color=\"green\"\n                  onClick={() => this.toggleModal('addModal')}\n                >\n                  Add new\n                </Button>\n              </Menu.Item>\n\n              {/*<Menu.Item name='updates' active={this.activeItem === 'updates'} onClick={this.handleItemClick}>*/}\n              {/*<Label>1</Label>*/}\n              {/*Updates*/}\n              {/*</Menu.Item>*/}\n            </Menu>\n          </Grid.Column>\n          <Grid.Column width={8}>\n            {this.state.active !== -1 ? (\n              <List divided relaxed>\n                {this.state.nephews[this.state.active].actions.map(\n                  (action, index) => (\n                    <List.Item key={index}>\n                      <List.Icon\n                        name=\"github\"\n                        size=\"large\"\n                        verticalAlign=\"middle\"\n                      />\n                      <List.Content>\n                        <List.Header as=\"a\" href={`http://github.com/${this.state.nephews[this.state.active].github}/${action.value}`} target=\"_blank\">\n                          {action.value}\n                        </List.Header>\n                      </List.Content>\n                    </List.Item>\n                  )\n                )}\n              </List>\n            ) : null}\n          </Grid.Column>\n          <Grid.Column width={4}>\n            {this.state.active !== -1 ? (\n              <Segment>\n                <Header as=\"h3\" style={{ marginBottom: '3px' }}>\n                  Name\n                </Header>\n                {this.state.nephews[this.state.active].name}\n                <br />\n                <Header as=\"h3\" style={{ marginBottom: '3px' }}>\n                  Github\n                </Header>\n                {this.state.nephews[this.state.active].github}\n                <br />\n                <Header as=\"h3\" style={{ marginBottom: '3px' }}>\n                  Points\n                </Header>\n                {this.state.nephews[this.state.active].points}\n                <br />\n                <br />\n\n                <Button\n                  color=\"yellow\"\n                  onClick={() => this.toggleModal('editModal')}\n                >\n                  Edit\n                </Button>\n                <Button\n                  color=\"red\"\n                  onClick={() => this.toggleModal('removeModal')}\n                >\n                  Delete\n                </Button>\n                <Button color=\"blue\" onClick={() => this.refresh()}>\n                  Refresh\n                </Button>\n                <Button color=\"purple\" onClick={() => this.logout()}>\n                  Logout\n                </Button>\n              </Segment>\n            ) : null}\n          </Grid.Column>\n        </Grid>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withRouter(Dashboard);\n"]},"metadata":{},"sourceType":"module"}